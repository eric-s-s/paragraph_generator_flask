import random
import unittest


from paragraph_generator_flask import flask_app


class TestFlaskApp(unittest.TestCase):

    def setUp(self):
        self.app = flask_app.app.test_client()
        flask_app.app.testing = True

    def test_get_with_empty_json(self):
        random.seed(374837)
        json_data = {}
        answer = self.app.get('/new', json=json_data)
        expected = {
            'display_str': "Children go to the two Jakes, the two Jakes take us away. The Joe takes away air. Air takes away the two Jakes. The two Jakes take away the children. Child don't take him away. They take away water! Water goes to the the two Jakes. The two Jakes go to water! Waters doesn't take away air, an air go to the children! The children take away a dog. The dog doesn't go to him. He went to an air, air goes to them,",
            'original_paragraph': '{"class": "Paragraph", "sentence_list": [{"class": "Sentence", "word_list": [{"class": "Noun", "tags": ["PLURAL"], "value": "Children", "irregular_plural": "children", "base_noun": "child"}, {"class": "Verb", "tags": [], "value": "go", "irregular_past": "went", "infinitive": "go"}, {"class": "BasicWord", "tags": ["PREPOSITION"], "value": "to"}, {"class": "Noun", "tags": ["PLURAL", "PROPER"], "value": "the two Jakes", "irregular_plural": "", "base_noun": "the two Jakes"}, {"class": "Punctuation", "name": "EXCLAMATION"}]}, {"class": "Sentence", "word_list": [{"class": "Noun", "tags": ["PLURAL", "PROPER"], "value": "The two Jakes", "irregular_plural": "", "base_noun": "the two Jakes"}, {"class": "Verb", "tags": [], "value": "take", "irregular_past": "took", "infinitive": "take"}, {"class": "Pronoun", "name": "US"}, {"class": "BasicWord", "tags": ["SEPARABLE_PARTICLE"], "value": "away"}, {"class": "Punctuation", "name": "PERIOD"}]}, {"class": "Sentence", "word_list": [{"class": "Noun", "tags": ["PROPER"], "value": "Joe", "irregular_plural": "", "base_noun": "Joe"}, {"class": "Verb", "tags": ["THIRD_PERSON"], "value": "takes", "irregular_past": "took", "infinitive": "take"}, {"class": "BasicWord", "tags": ["SEPARABLE_PARTICLE"], "value": "away"}, {"class": "Noun", "tags": ["UNCOUNTABLE"], "value": "air", "irregular_plural": "", "base_noun": "air"}, {"class": "Punctuation", "name": "PERIOD"}]}, {"class": "Sentence", "word_list": [{"class": "Noun", "tags": ["UNCOUNTABLE"], "value": "Air", "irregular_plural": "", "base_noun": "air"}, {"class": "Verb", "tags": ["THIRD_PERSON"], "value": "takes", "irregular_past": "took", "infinitive": "take"}, {"class": "BasicWord", "tags": ["SEPARABLE_PARTICLE"], "value": "away"}, {"class": "Noun", "tags": ["PLURAL", "PROPER"], "value": "the two Jakes", "irregular_plural": "", "base_noun": "the two Jakes"}, {"class": "Punctuation", "name": "PERIOD"}]}, {"class": "Sentence", "word_list": [{"class": "Noun", "tags": ["PLURAL", "PROPER"], "value": "The two Jakes", "irregular_plural": "", "base_noun": "the two Jakes"}, {"class": "Verb", "tags": [], "value": "take", "irregular_past": "took", "infinitive": "take"}, {"class": "BasicWord", "tags": ["SEPARABLE_PARTICLE"], "value": "away"}, {"class": "Noun", "tags": ["PLURAL", "DEFINITE"], "value": "the children", "irregular_plural": "children", "base_noun": "child"}, {"class": "Punctuation", "name": "PERIOD"}]}, {"class": "Sentence", "word_list": [{"class": "Noun", "tags": ["PLURAL", "DEFINITE"], "value": "The children", "irregular_plural": "children", "base_noun": "child"}, {"class": "Verb", "tags": ["NEGATIVE"], "value": "don\'t take", "irregular_past": "took", "infinitive": "take"}, {"class": "Pronoun", "name": "HIM"}, {"class": "BasicWord", "tags": ["SEPARABLE_PARTICLE"], "value": "away"}, {"class": "Punctuation", "name": "PERIOD"}]}, {"class": "Sentence", "word_list": [{"class": "CapitalPronoun", "name": "THEY"}, {"class": "Verb", "tags": [], "value": "take", "irregular_past": "took", "infinitive": "take"}, {"class": "BasicWord", "tags": ["SEPARABLE_PARTICLE"], "value": "away"}, {"class": "Noun", "tags": ["UNCOUNTABLE"], "value": "water", "irregular_plural": "", "base_noun": "water"}, {"class": "Punctuation", "name": "EXCLAMATION"}]}, {"class": "Sentence", "word_list": [{"class": "Noun", "tags": ["UNCOUNTABLE"], "value": "Water", "irregular_plural": "", "base_noun": "water"}, {"class": "Verb", "tags": ["THIRD_PERSON"], "value": "goes", "irregular_past": "went", "infinitive": "go"}, {"class": "BasicWord", "tags": ["PREPOSITION"], "value": "to"}, {"class": "Noun", "tags": ["PLURAL", "PROPER"], "value": "the two Jakes", "irregular_plural": "", "base_noun": "the two Jakes"}, {"class": "Punctuation", "name": "PERIOD"}]}, {"class": "Sentence", "word_list": [{"class": "Noun", "tags": ["PLURAL", "PROPER"], "value": "The two Jakes", "irregular_plural": "", "base_noun": "the two Jakes"}, {"class": "Verb", "tags": [], "value": "go", "irregular_past": "went", "infinitive": "go"}, {"class": "BasicWord", "tags": ["PREPOSITION"], "value": "to"}, {"class": "Noun", "tags": ["UNCOUNTABLE"], "value": "water", "irregular_plural": "", "base_noun": "water"}, {"class": "Punctuation", "name": "EXCLAMATION"}]}, {"class": "Sentence", "word_list": [{"class": "Noun", "tags": ["UNCOUNTABLE"], "value": "Water", "irregular_plural": "", "base_noun": "water"}, {"class": "Verb", "tags": ["THIRD_PERSON", "NEGATIVE"], "value": "doesn\'t take", "irregular_past": "took", "infinitive": "take"}, {"class": "BasicWord", "tags": ["SEPARABLE_PARTICLE"], "value": "away"}, {"class": "Noun", "tags": ["UNCOUNTABLE"], "value": "air", "irregular_plural": "", "base_noun": "air"}, {"class": "Punctuation", "name": "PERIOD"}]}, {"class": "Sentence", "word_list": [{"class": "Noun", "tags": ["UNCOUNTABLE"], "value": "Air", "irregular_plural": "", "base_noun": "air"}, {"class": "Verb", "tags": ["THIRD_PERSON"], "value": "goes", "irregular_past": "went", "infinitive": "go"}, {"class": "BasicWord", "tags": ["PREPOSITION"], "value": "to"}, {"class": "Noun", "tags": ["PLURAL", "DEFINITE"], "value": "the children", "irregular_plural": "children", "base_noun": "child"}, {"class": "Punctuation", "name": "EXCLAMATION"}]}, {"class": "Sentence", "word_list": [{"class": "Noun", "tags": ["PLURAL", "DEFINITE"], "value": "The children", "irregular_plural": "children", "base_noun": "child"}, {"class": "Verb", "tags": [], "value": "take", "irregular_past": "took", "infinitive": "take"}, {"class": "BasicWord", "tags": ["SEPARABLE_PARTICLE"], "value": "away"}, {"class": "Noun", "tags": ["INDEFINITE"], "value": "a dog", "irregular_plural": "", "base_noun": "dog"}, {"class": "Punctuation", "name": "PERIOD"}]}, {"class": "Sentence", "word_list": [{"class": "Noun", "tags": ["DEFINITE"], "value": "The dog", "irregular_plural": "", "base_noun": "dog"}, {"class": "Verb", "tags": ["THIRD_PERSON", "NEGATIVE"], "value": "doesn\'t go", "irregular_past": "went", "infinitive": "go"}, {"class": "BasicWord", "tags": ["PREPOSITION"], "value": "to"}, {"class": "Pronoun", "name": "HIM"}, {"class": "Punctuation", "name": "PERIOD"}]}, {"class": "Sentence", "word_list": [{"class": "CapitalPronoun", "name": "HE"}, {"class": "Verb", "tags": ["THIRD_PERSON"], "value": "goes", "irregular_past": "went", "infinitive": "go"}, {"class": "BasicWord", "tags": ["PREPOSITION"], "value": "to"}, {"class": "Noun", "tags": ["UNCOUNTABLE"], "value": "air", "irregular_plural": "", "base_noun": "air"}, {"class": "Punctuation", "name": "PERIOD"}]}, {"class": "Sentence", "word_list": [{"class": "Noun", "tags": ["UNCOUNTABLE"], "value": "Air", "irregular_plural": "", "base_noun": "air"}, {"class": "Verb", "tags": ["THIRD_PERSON"], "value": "goes", "irregular_past": "went", "infinitive": "go"}, {"class": "BasicWord", "tags": ["PREPOSITION"], "value": "to"}, {"class": "Pronoun", "name": "THEM"}, {"class": "Punctuation", "name": "EXCLAMATION"}]}], "tags": ["HAS_PLURALS", "HAS_NEGATIVES", "SIMPLE_PRESENT"]}'}
        answer_json = answer.get_json()
        self.assertEqual(expected, answer_json)
